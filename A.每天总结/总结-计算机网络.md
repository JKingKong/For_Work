## 数据链路层

1. 基本问题
   1. 封装成帧
   2. 透明传输
      1. 转义字符法
      2. 0比特填充法
      3. 违例曼彻斯特编码
   3. 差错检测
      1. 信道冲突问题
2. 信道分类
   1. 广播信道
   2. 点对点信道
3. 信道复用技术
   1. 频分复用
   2. 时分复用
   3. 统计时分复用
   4. 波分复用
   5. 码分多址复用
4. 协议
   1. **CSAM/CD**
   2. PPP协议
5. 网络结构
   1. 局域网
   2. 以太网
      1. 帧长
      2. FCS-帧校验序列，CRC检验方法
6. 交换机
7. 虚拟局域网

## 网络层

1. IP数据包格式
2. IP编址方式
   1. IP分类
   2. 子网划分
   3. 无分类编址CIDR（构成超网、路由聚合）
3. 几个重要协议
   1. **ARP协议（IP--->MAC)**（局域网、跨网段）
   2. **ICMP协议**
   3. IGMP协议
4. 路由算法
   1. RIP
   2. OSPF
   3. 

## 传输层

1. tcp和udp的区别

2. 三次挥手、四次握手

3. 为什么要三次挥手

4. TCP协议如何保证可靠传输？

   1. 校验和（首部、数据）
   2. 接收端丢弃重复数据
   3. 流量控制
      1. 滑动窗口

5. ARQ协议

   1. 停止等待ARQ协议（1窗口）
   2. 连续ARQ协议（多窗口）

6. 超时重传

   1. 超时重传时间计算：
      1. RTTs = 第一次测量的RTT
      2. 新RTTs  =  (1 - a ) * 旧RTTs +  a *RTT
      3. 第一次RTTd = RTT/2
      4. 新RTTd = (1 - b) * 旧RTTd + b * | RTTs - RTT |
      5. RTO = RTTs + 4 *  RTTd
   2. 无差错情况
   3. 差错情况（超时重传）
   4. 确认
      1. 确认丢失：确认消息在传输过程丢失。
         1. 丢弃重复消息，发送确认报文
      2. 确认迟到：确认消息在传输过程中迟到。
         1. A收到重复的确认后，直接丢弃。
         2. B收到重复的M1后，也直接丢弃重复的M1

7. 流量控制

   1. 发送窗口
      1. 发送方收到接收方窗口为0时的报文，定期发送访问接收方的报文
   2. 接受窗口

8. 拥塞控制

   1. cwnd == 1慢开始算法 cwnd倍增（2倍指数增长）
   2. cwnd > 门限值 --->  拥塞避免 +1  （加法增大）
   3. cwnd == 门限值，慢开始或者拥塞避免都行
   4. 网络拥塞情况检测
      1. 快恢复	ssthresh = cwnd/2
      2. 或者慢开始 ----- （一般不用了）
   5. 快重传
      1. 3个失序报文，三个确认当前想要的报文（无需捎带确认）

9. **判断网络发生拥塞的依据：没有按时收到确认**

   

## 应用层

![img](images/16c8f0ae04a5fbb9)

### HTTP

#### HTTP的头字段

1. Accept
2. Accept-Charset
3. Accept-Encoding
4. Accept-Language
5. Cookie
6. Connection
7. Content-Length
8. ......

#### HTTP的连接

##### 短连接

1. 管理简单，方便，无需额外手段控制

##### 长连接

1. 重用TCP链接
2. 服务端保活功能：试图在服务器端检测到这种半开放的连接（客户端崩了）



负载均衡实现方式：

1. 重定向
2. 反向代理
3. 数据链路返回

负载均衡算法：

1. 轮询法
2. 加权轮训法
3. 随机法
4. 加权随机法
5. 源地址哈希法
6. 最小连接数法