# 存储器

## Cache

1. 局部性原理

2. Cache的基本原理

3. Cache的基本工作原理

   1. 主存中的块放到Cache中哪个位置？
      1. **全相联**映射：空位随意放 
      2. **直接**映射：对号入座
      3. **组相联**映射：按号分组，组内随意放
   2. 对于于**全相联映射**，Cache满了如何处理？对于(2)(3)，对应位置被占用如何处理？
      1. 先进先出(FIFO)算法、
      2. 随机(RAND)算法
      3. 近期最少使用(LRU)算法、
      4. 最不经常使用(LFU)算法。
   3. 修改Cache中的内容后，如何保持主存中相应内容的一致性？
     1. 命中
       1. 全写法（写直达法）(write-through)：同步写回主存，在多核cpu的情况下依旧会造成不一致
       2. 写回法(write-back)  （使用缓存一致性协议MESI）
     2. 不命中	
       1. 写分配法(write-allocate) ：加载相应的低一层中的块到高速缓存中，然后更新这个高速缓存。写分配试图写的空间局部性，但是缺点是每次写不命中都会导致一个快从第一层传送到高速缓存。
       2. 非写分配法(not-write-allocate)：避开高速缓存，直接把这个字写到低一层中。

   4. Cache中主存块的替换算法 
      1. 采用全相联映射 和 组相联映射
         1. 先进先出(FIFO)算法、
         2. 随机(RAND)算法
         3. 近期最少使用(LRU)算法、
         4. 最不经常使用(LFU)算法。
      2. 直接映射：不需要替换算法，直接替换
         